const t="pointerdown",i="pointermove",r="pointerup",u="touchstart",n=null;export const attach=(f,e)=>{const o=[0,0,0,0,0,!1],s=e.querySelector(":scope > .spliter-bar"),h=[...e.querySelectorAll(":scope > .pane-of-split-container")],v=Math.round,y=n=>v(o[0]===0?n.clientX:n.clientY),a=n=>v((n=>o[0]===0?n.width:n.height)(n.getBoundingClientRect())),nt=n=>a(h[n]),c=s.addEventListener.bind(s),l=s.removeEventListener.bind(s),p=n=>n.preventDefault(),w=()=>{o[5]||(o[5]=!0,l(t,d),l(r,g),l(u,p))},b=t=>{const u=o[1],i=h[u]||n;if(i===n)return[n,0];const f=i.style,v=y(t),p=v-o[2],c=o[3]+(u==0?1:-1)*p,r=o[4]===1?parseFloat(((c+a(s)/2)/a(e)*100).toFixed(3)):c,l=o[4]===1?`calc(${r}% - calc(var(--splitter-bar-size) / 2))`:r+"px";return o[0]===0?f.width=l:f.height=l,[i,r]},k=n=>{b(n)},d=n=>{if(!document.contains(s)){w();return}const t=h.findIndex(n=>n.style.flex==="");t!==-1&&(o[0]=e.classList.contains("splitter-orientation-vertical")?0:1,o[1]=t,o[2]=y(n),o[3]=nt(t),o[4]=e.dataset.unitOfSize==="percent"?1:0,c(i,k),s.setPointerCapture(n.pointerId))},g=n=>{s.releasePointerCapture(n.pointerId);l(i,k);const[t,r]=b(n);f.invokeMethodAsync("UpdateSize",t===h[0],r)};return c(t,d),c(r,g),c(u,p,{passive:!1}),{dispose:w}};